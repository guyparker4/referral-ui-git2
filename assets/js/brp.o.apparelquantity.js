"use strict";mul.set("brp.o.apparelquantity",[],{template:'<a.modal>\n    <o.quantityselection></o.quantityselection>\n    <div class="row columns collapse shown">\n        <div class="expanded button-group">\n            <a class="secondary button" href="javascript:void(0)" @click="cancelQty()"><span>Cancel</span></a>\n            <a class="button cta" href="javascript:void(0)" @click="updateQty()"><span>Add</span></a>\n        </div>\n    </div>\n</a.modal>',props:[],data:function(){return{model:brp.model.apparel.model,orderBackUp:{apparel:[],total:0,saleTotal:0}}},updated:function(){this.backup()},computed:{minimumOrder:function(){return this.totalQuantity>=this.model.pdp.product.minimumQty},totalQuantity:function t(){var t=0;return _.forEach(this.model.apparel,function(n){t+=n.quantity}),t},configVars:function(){return window.configVars}},methods:{backup:function(){this.orderBackUp.apparel=JSON.parse(JSON.stringify(this.model.apparel)),this.orderBackUp.total=this.model.total,this.orderBackUp.saleTotal=this.model.saleTotal},updateQty:function(){return this.minimumOrder?(this.outputOrder(),console.log("update quantities"),void location.reload()):void this.updateWarning("block")},cancelQty:function(){Vue.set(this.model,"apparel",JSON.parse(JSON.stringify(this.orderBackUp.apparel))),Vue.set(this.model,"total",this.orderBackUp.total),Vue.set(this.model,"saleTotal",this.orderBackUp.saleTotal),console.log("cancel quantities"),this.updateWarning("none")},updateWarning:function(t){for(var n=0;n<document.getElementsByClassName("quantity__msg").length;n++)document.getElementsByClassName("quantity__msg")[n].style.display=t},beautify:function(t){var n=JSON.stringify(t);return n.split(":").join(": ").split(",").join(", ")},outputOrder:function(){var t=this.model.apparel,n={XXS:null,XS:null,S:null,M:null,L:null,LT:null,XL:null,XLT:null,"2X":null,"2XL":null,"2XLT":null,"3X":null,"3XL":null,"3XLT":null,"4X":null,"4XL":null,"4XLT":null,"5XL":null,"5XLT":null,"6XL":null};t.forEach(function(t){n[t.size]=t});var a="",e="";for(var l in n)n[l]&&(a+=n[l].skuId+",",e+=n[l].quantity+",");var a=a.substring(0,a.length-1),e=e.substring(0,e.length-1),o=this.configVars.commerceItemId,i={catalogRefId1:a,prodQuantity:e,commerceItemId:o},s=this.configVars.qtyUpdateService;window.superagent.post(s).set({"Cache-Control":"no-cache"}).type("json").send(i).end(function(t,n){console.log(n)})}}});